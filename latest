# shellcheck shell=sh
# shellcheck disable=SC2039,3043

# author:       Li Junhao           edwin.jh.lee@gmail.com    edwinjhlee.github.io
# maintainer:   Li Junhao

# loading dependencies
xrc http param ui
xrc ui/lib/table gh/lib/resource

xrc:inner:lib gcode utils config current token user/main issue/main project/main project/member project/tag groups/main groups/member

x log init gcode
___x_cmd_gcode(){
    param:advise gcode
    param:subcmd ___x_cmd_gcode         \
        user        "user"              \
        project     "project command"   \
        config      "save, load, which" \
        current     "current user"      \
        groups      "groups manage"     \
        subgroup    "subgroups manage"  \
        issue       "issue manage"      \
        token       "set token"
    param:subcmd:try
    param:run

    ___x_cmd_gcode _param_help_doc
    return 1
}

[ -d "$HOME/.x-cmd/.tmp/gcode" ] || mkdir -p "$HOME/.x-cmd/.tmp/gcode"
xrc setmain ___x_cmd_gcode

